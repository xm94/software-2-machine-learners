<div
  bsModal
  #lgModal="bs-modal"
  class="modal fade modal-open"
  tabindex="-1"
  size="lg"
  aria-hidden="true"
  (onHidden)="onHide()"
>
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title">Create SubTask</h4>
            </div>
            <div class="modal-body">
                <form class="example-form" [formGroup]="form">
                    <mat-form-field appearance="outline" class="example-full-width" [hideRequiredMarker]=true>
                        <mat-label>SubTask Name</mat-label>
                        <input matInput formControlName="st_name" required>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="example-full-width" [hideRequiredMarker]=true>
                        <mat-label>SubTask Priority</mat-label>
                        <mat-select  formControlName=st_priority required>
                            <mat-option  *ngFor="let p of priority" value="{{p}}">
                                {{p}}
                              </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="example-full-width" [hideRequiredMarker]=true>
                        <mat-label>SubTask Progress</mat-label>
                        <mat-select  formControlName=st_progress required>
                            <mat-option  *ngFor="let prog of progress" value="{{prog}}">
                                {{prog}}
                              </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="example-full-width">
                        <mat-label>Task</mat-label>
                        <mat-select  formControlName=taskInd>
                            <mat-option  *ngFor="let t of taskList;index as i" value="{{i}}">
                                {{t.t_name}}
                              </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="example-full-width">
                        <mat-label>Assigned Analyst</mat-label>
                        <mat-select  formControlName=a_id>
                            <mat-option  *ngFor="let a of analysts" value="{{a.a_id}}">
                                {{a.a_fname}} {{a.a_lname}}
                              </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="example-full-width">
                        <mat-label>Collaborators</mat-label>
                        <mat-select  formControlName=st_collaborators multiple>
                            <mat-option  *ngFor="let a of analysts" value="{{a.a_id}}">
                                {{a.a_fname}} {{a.a_lname}}
                              </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="example-full-width" >
                        <mat-label>SubTask Due Date</mat-label>
                        <input matInput [matDatepicker]="apicker" formControlName="st_due_date">
                        <mat-datepicker-toggle matSuffix [for]="apicker"></mat-datepicker-toggle>
                        <mat-datepicker #apicker></mat-datepicker>
                    </mat-form-field>

                    <mat-card>
                        <h5>Upload Attachments</h5>
                        <app-file-upload formControlName="st_attachments"></app-file-upload>
                    </mat-card>
                    
                    <br>

                    <mat-form-field appearance="outline" style=" width: 89%;" class="example-full-width" [hideRequiredMarker]=true>
                        <mat-label>SubTask Description</mat-label>
                        <textarea matInput formControlName="st_description" required></textarea>
                    </mat-form-field>
                    
                </form>

                <button mat-raised-button color="primary" (click)="submit()">Submit</button> 
            </div>
        </div>
    </div>
</div>